-- 간단한 직원 테이블 생성 (사번, 이름, 부서만)
-- 이 파일을 Supabase SQL Editor에서 실행하세요

-- 기존 employees 테이블이 있다면 삭제
DROP TABLE IF EXISTS employees CASCADE;

-- 간단한 직원 테이블 생성
CREATE TABLE employees (
    id SERIAL PRIMARY KEY,
    employee_id VARCHAR(20) NOT NULL UNIQUE,
    name VARCHAR(100) NOT NULL,
    department VARCHAR(100) NOT NULL,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- RLS 정책 설정
ALTER TABLE employees ENABLE ROW LEVEL SECURITY;

-- 모든 인증된 사용자가 조회 가능
CREATE POLICY "직원 정보 조회는 인증된 사용자 가능" ON employees
    FOR SELECT USING (auth.role() = 'authenticated');

-- 관리자만 수정/삭제 가능
CREATE POLICY "직원 정보 수정은 관리자만 가능" ON employees
    FOR ALL USING (
        EXISTS (SELECT 1 FROM profiles WHERE id = auth.uid() AND is_admin = TRUE)
    );

-- 기본 직원 데이터 삽입
INSERT INTO employees (employee_id, name, department) VALUES
('2', '김징균', '의국'),
('3', '김징현', '의국'),
('163', '서정애', '약제과'),
('202', '손복향', '총무과'),
('267', '박두심', '임상병리실'),
('277', '손영미', '예약/콜/고객관리'),
('450', '김의식', '방사선실'),
('539', '김지영', '수술실'),
('549', '차제옥', '원무'),
('628', '권은희', '심사'),
('799', '양동휘', '의국'),
('873', '양영윤', '외래'),
('939', '이진아', '진료협력센터'),
('1099', '민경애', '외래'),
('1131', '김창훈', '방사선실'),
('1164', '김영숙', '통합진료실'),
('1187', '고성범', '의국'),
('1200', '성기호', '의국'),
('1224', '정미진', '건강증진센터'),
('1237', '구선화', '건강증진센터'),
('1238', '조은영', '예약/콜/고객관리'),
('1239', '김경미', '약제과'),
('1260', '곽봉용', '대외협력본부'),
('1263', '김은주', '임상병리실'),
('1286', '이미영', '5층상급'),
('1305', '김명희', '대외협력본부'),
('1318', '조은주', '건강증진센터'),
('1319', '이정희', '예약/콜/고객관리'),
('1324', '박혜련', '원무'),
('1355', '차언선', '6층통합'),
('1380', '이현진', '예약/콜/고객관리'),
('1401', '이월희', '통합진료실'),
('1406', '신지영', '건강증진센터'),
('1417', '조정수', '5층통합'),
('1427', '장예원', 'SEROUM'),
('1475', '김민혁', '의국지원'),
('1494', '김치호', '의국'),
('1509', '김민혜', '5층상급'),
('1511', '손혁수', '예약/콜/고객관리'),
('1530', '이혜진', '약제과'),
('1542', '오상윤', '전산'),
('1562', '황설영', '6층통합'),
('1565', '조혜인', '임상병리실'),
('1572', '서수진', '총무과'),
('1589', '조은율', '임상병리실'),
('1592', '이수정', '6층통합'),
('1594', '김지은', '건강증진센터'),
('1596', '김결희', '외래'),
('1612', '현정애', '감염관리실'),
('1614', '홍난영', '6층통합'),
('1624', '김찬호', '의국'),
('1629', '김주석', '대외협력본부'),
('1643', '임지경', '의국'),
('1648', '이동혁', '시설관리'),
('1660', '배영은', '내시경센터'),
('1668', '김성호', '의국'),
('1671', '이미영', '5층상급'),
('1675', '이연경', '5층상급'),
('1689', '성문환', '시설관리'),
('1693', '김우현', '의국'),
('1701', '이정은', '건강증진센터'),
('1705', '최아름', '방사선실'),
('1717', '유혜진', '5층통합'),
('1719', '이효경', '5층통합'),
('1731', '이범휘', '의국'),
('1732', '박찬윤', '의국'),
('1733', '전지민', '방사선실'),
('1735', '장현정', '수술실'),
('1738', '권효진', '의국'),
('1750', '박은주', 'SEROUM'),
('1754', '오유진', '5층상급'),
('1755', '고금희', '방사선실'),
('1758', '황소영', '6층통합'),
('1764', '이수진', '방사선실'),
('1765', '백지현', '수술실'),
('1768', '엄정현', '6층통합'),
('1774', '권창모', '법인사무국'),
('1775', '김운지', '5층통합'),
('1778', '김화영', '방사선실'),
('1782', '김태한', '의국'),
('1783', '김지흔', '5층통합'),
('1785', '김영기', '대외협력본부'),
('1786', '마시은', '수술실'),
('1787', '허난희', '심사'),
('1789', '이지은', '방사선실'),
('1790', '강영희', '대외협력본부'),
('1792', '김채은', '6층통합'),
('1793', '김기석', '의국'),
('1794', '조승현', '의국'),
('1795', '김영남', '5층통합'),
('1797', '박진희', '5층통합'),
('1798', '김현지', '6층통합'),
('1799', '김가영', '6층통합'),
('1802', '이윤서', '6층통합'),
('1803', '김혜민', '내시경센터'),
('1804', '조윤정', '수술실'),
('1805', '나정민', '수술실'),
('1809', '김은정', '5층통합'),
('1812', '김경진', '5층상급'),
('1813', '오현영', 'SEROUM'),
('1815', '강민정', '5층통합'),
('1818', '정은주', '통합진료실'),
('1820', '정성화', '의국'),
('1821', '정윤호', '의국'),
('1822', '손기탁', '의국'),
('1823', '박정영', '의국'),
('1824', '설수환', '의국'),
('1825', '이재욱', '의국'),
('1826', '김지민', '5층통합'),
('1827', '이언주', '5층통합'),
('1828', '유재성', '의국지원'),
('1829', '김유진', 'SEROUM'),
('1831', '최형택', '방사선실'),
('1832', '황예슬', '총무과'),
('1833', '최은영', '6층통합'),
('1834', '이재희', '5층상급'),
('1835', '배가영', '5층상급'),
('1836', '김진희', '의국'),
('9337', '임재욱', '시설관리'),
('9342', '이해지', '외래'),
('9347', '이다겸', '임상병리실'),
('9364', '박신영', '내시경센터'),
('9367', '박가영', '외래'),
('9381', '김화진', '내시경센터'),
('9387', '곽운영', '감염관리실'),
('9401', '신동수', '원무'),
('9403', '윤혜지', '건강증진센터'),
('9404', '이태영', '총무과'),
('9406', '이지원', '총무과'),
('9408', '변지은', '방사선실'),
('9409', '채명숙', '5층통합'),
('9410', '심영희', '6층통합'),
('9411', '한상희', '6층통합'),
('9417', '이종경', '총무과'),
('9419', '신혜리', '5층통합'),
('9423', '김문일', '원무'),
('9427', '배경아', '6층통합'),
('9428', '김미혜', '원무'),
('9429', '전제영', '5층통합'),
('9430', '김경민', '5층통합'),
('9432', '김현진', '건강증진센터'),
('9433', '김민서', '5층통합'),
('9436', '이경애', '6층통합'),
('9440', '최다빈', '원무'),
('9448', '김나연', '건강증진센터'),
('9451', '박민지', '내시경센터'),
('9455', '차숙진', '건강증진센터'),
('9456', '한진주', '총무과'),
('9458', '이종희', '외래'),
('9459', '박지윤', '예약/콜/고객관리'),
('9468', '박이슬', '통합진료실'),
('9469', '김민제', '원무'),
('9473', '이현옥', '6층통합'),
('9474', '김수진', '5층통합'),
('9475', '신효서', '6층통합'),
('9489', '박명숙', '5층통합'),
('9494', '주현규', '의국지원'),
('9495', '김효경', '예약/콜/고객관리'),
('9496', '박미희', '원무'),
('9501', '최지선', '외래'),
('9503', '곽송은', '건강증진센터'),
('9505', '주영아', '내시경센터'),
('9508', '김효은', '예약/콜/고객관리'),
('9512', '권미진', '6층통합'),
('9513', '류정은', '심사'),
('9518', '이한솔', '약제과'),
('9521', '김세롬', '내시경센터'),
('9523', '김참모', '마케팅'),
('9524', '이한별', '내시경센터'),
('9526', '이지연', '장애인스포츠단'),
('9527', '박상길', '장애인스포츠단'),
('9528', '차정훈', '장애인스포츠단'),
('9529', '김현정', '통합진료실'),
('9531', '김보경', '심사'),
('9535', '강경은', '예약/콜/고객관리'),
('9537', '이선정', '외래'),
('9539', '곽민지', '외래'),
('9540', '김강은', '건강증진센터'),
('9542', '전주연', '건강증진센터'),
('9550', '정한진', '시설관리'),
('9551', '김정일', '시설관리'),
('9552', '이상훈', '내시경센터'),
('9553', '한금정', '총무과'),
('9560', '송수연', '내시경센터'),
('9561', '공민지', '방사선실'),
('9562', '정지선', '6층통합'),
('9563', '조수인', '외래'),
('9565', '박예림', '외래'),
('9568', '김지현', '마케팅'),
('9570', '박혜경', '방사선실'),
('9571', '김연지', '외래'),
('9572', '정영빈', '내시경센터'),
('9574', '김희경', '내시경센터'),
('9575', '이혜란', '총무과'),
('9576', '주이삭', '총무과'),
('9578', '문선희', '외래'),
('9579', '이효빈', '예약/콜/고객관리'),
('9580', '이경애', '진료협력센터'),
('9582', '우정해', '일반검진센터'),
('9584', '서예원', '외래'),
('9585', '백지혜', '외래'),
('9586', '권지승', '내시경센터'),
('9587', '김원경', '5층상급'),
('9590', '정선정', '원무'),
('9591', '문성민', '심사'),
('9592', '박지은', '내시경센터'),
('9593', '김지영', '외래');
